(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(1),s=n(4),l=n(5),u=n(7),o=n(6),i=n(8),m=n(2),p=n(14),h=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(o.a)(t).call(this,e))).state={books:[],categories:[],value:""},n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"fetchData",value:function(){var e=Object(r.a)(c.a.mark(function e(){var t,n,a,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/?get=books");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.next=8,fetch("/api/?get=categories");case 8:return a=e.sent,e.next=11,a.json();case 11:r=e.sent,this.setState({books:n,categories:r});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"doChange",value:function(e){this.setState({value:e.target.value})}},{key:"doSubmit",value:function(){var e=Object(r.a)(c.a.mark(function e(t,n){var a,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"post"!==n){e.next=7;break}return e.next=4,fetch("/post/?isbn=".concat(this.state.value));case 4:e.sent,e.next=12;break;case 7:return a=t.target.children.isbn.value,r=t.target.children.ndl.value,e.next=11,fetch("/delete/?isbn=".concat(a,"&ndl=").concat(r));case 11:e.sent;case 12:this.fetchData();case 13:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.books,n=this.state.categories;return m.createElement(m.Fragment,null,m.createElement("form",{onSubmit:function(t){return e.doSubmit(t,"post")}},m.createElement("input",{type:"text",name:"isbn",placeholder:"ISBN\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044",onChange:function(t){return e.doChange(t)},value:this.state.value}),m.createElement("input",{type:"submit"})),m.createElement("div",{class:"books"},m.createElement("ul",null,t.map(function(t,n){return m.createElement("li",{class:"col"},m.createElement("figure",{class:"col-cover"},m.createElement("img",{src:t.cover,alt:t.title})),m.createElement("div",{class:"text-left"},m.createElement("p",{class:"col-title"},t.title),m.createElement("p",{class:"col-class"},"NDC\uff1a",t.ndl,"\uff0f",t.category),m.createElement("p",{class:"col-author"},t.author,m.createElement("span",{class:"col-author__kana"},"\uff0f",t.author_kana)),m.createElement("p",{class:"col-publisher"},"\u51fa\u7248\u793e\uff1a",t.publisher),m.createElement("p",{class:"col-pubdate"},"\u767a\u58f2\u65e5\uff1a",t.pub_date),m.createElement("div",null,m.createElement("form",{onSubmit:function(t){return e.doSubmit(t,"delete")}},m.createElement("input",{type:"hidden",name:"isbn",value:t.isbn}),m.createElement("input",{type:"hidden",name:"ndl",value:t.ndl}),m.createElement("button",null,"DELETE")))))}))),m.createElement("div",{class:"categories"},m.createElement("ul",null,n.map(function(e,t){return m.createElement("li",{class:"col"},e.name,"\uff08",e.count,"\uff09")}))))}}]),t}(m.Component);p.render(m.createElement(h,null),document.getElementById("content"))},9:function(e,t,n){e.exports=n(10)}},[[9,1,2]]]);
//# sourceMappingURL=main.4dc3eaea.chunk.js.map