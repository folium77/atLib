{"version":3,"sources":["index.js"],"names":["React","require","ReactDOM","App","props","_this","Object","_Applications_MAMP_htdocs_atlib_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Applications_MAMP_htdocs_atlib_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Applications_MAMP_htdocs_atlib_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","books","categories","_this2","fetch","then","res","json","data","setState","createElement","map","book","index","class","src","cover","alt","title","ndl","category","author","author_kana","publisher","pub_date","action","method","type","name","value","isbn","count","Component","render","document","getElementById"],"mappings":"wKAAIA,EAAQC,EAAQ,GAChBC,EAAWD,EAAQ,IAEjBE,cACJ,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CACXC,MAAO,GACPC,WAAY,IAJGT,mFAQC,IAAAU,EAAAP,KAClBQ,MAAM,mBACLC,KAAK,SAACC,GAAD,OAASA,EAAIC,SAClBF,KAAK,SAAAG,GACJL,EAAKM,SAAS,CAAER,MAAOO,MAGzBJ,MAAM,sBACLC,KAAK,SAACC,GAAD,OAASA,EAAIC,SAClBF,KAAK,SAAAG,GACJL,EAAKM,SAAS,CAAEP,WAAYM,uCAK9B,IAAMP,EAAQL,KAAKI,MAAMC,MACnBC,EAAaN,KAAKI,MAAME,WAC9B,OACEd,EAAAsB,cAAA,WACEtB,EAAAsB,cAAA,UACGT,EAAMU,IAAI,SAACC,EAAMC,GAAP,OACTzB,EAAAsB,cAAA,MAAII,MAAM,OACR1B,EAAAsB,cAAA,UAAQI,MAAM,aACZ1B,EAAAsB,cAAA,OAAKK,IAAKH,EAAKI,MAAOC,IAAKL,EAAKM,SAElC9B,EAAAsB,cAAA,OAAKI,MAAM,aACT1B,EAAAsB,cAAA,KAAGI,MAAM,aAAaF,EAAKM,OAC3B9B,EAAAsB,cAAA,KAAGI,MAAM,aAAT,YAA0BF,EAAKO,IAA/B,SAAqCP,EAAKQ,UAC1ChC,EAAAsB,cAAA,KAAGI,MAAM,cAAcF,EAAKS,OAAOjC,EAAAsB,cAAA,QAAMI,MAAM,oBAAZ,SAAiCF,EAAKU,cACzElC,EAAAsB,cAAA,KAAGI,MAAM,iBAAT,2BAA8BF,EAAKW,WACnCnC,EAAAsB,cAAA,KAAGI,MAAM,eAAT,2BAA4BF,EAAKY,UACjCpC,EAAAsB,cAAA,WACEtB,EAAAsB,cAAA,QAAMe,OAAO,WAAWC,OAAO,OAC7BtC,EAAAsB,cAAA,SAAOiB,KAAK,SAASC,KAAK,OAAOC,MAAOjB,EAAKkB,OAC7C1C,EAAAsB,cAAA,SAAOiB,KAAK,SAASC,KAAK,MAAMC,MAAOjB,EAAKO,MAC5C/B,EAAAsB,cAAA,+BAOZtB,EAAAsB,cAAA,UACGR,EAAWS,IAAI,SAACS,EAAUP,GAAX,OACdzB,EAAAsB,cAAA,MAAII,MAAM,OAAOM,EAASQ,KAA1B,SAAiCR,EAASW,MAA1C,qBArDM3C,EAAM4C,WA6DxB1C,EAAS2C,OAAO7C,EAAAsB,cAACnB,EAAD,MAAS2C,SAASC,eAAe","file":"static/js/main.0b85db1f.chunk.js","sourcesContent":["var React = require('react');\nvar ReactDOM = require('react-dom');\n\nclass App extends React.Component{\n  constructor(props) {\n    super(props);\n    this.state = {\n      books: [],\n      categories: []\n    };\n  }\n\n  componentDidMount() {\n    fetch('/api/?get=books')\n    .then((res) => res.json())\n    .then(data => {\n      this.setState({ books: data });\n    });\n\n    fetch('/api/?get=category')\n    .then((res) => res.json())\n    .then(data => {\n      this.setState({ categories: data });\n    });\n  }\n\n  render(){\n    const books = this.state.books;\n    const categories = this.state.categories;\n    return(\n      <div>\n        <ul>\n          {books.map((book, index) =>\n            <li class=\"col\">\n              <figure class=\"col-cover\">\n                <img src={book.cover} alt={book.title} />\n              </figure>\n              <div class=\"text-left\">\n                <p class=\"col-title\">{book.title}</p>\n                <p class=\"col-class\">NDC：{book.ndl}／{book.category}</p>\n                <p class=\"col-author\">{book.author}<span class=\"col-author__kana\">／{book.author_kana}</span></p>\n                <p class=\"col-publisher\">出版社：{book.publisher}</p>\n                <p class=\"col-pubdate\">発売日：{book.pub_date}</p>\n                <div>\n                  <form action=\"/delete/\" method=\"get\">\n                    <input type=\"hidden\" name=\"isbn\" value={book.isbn} />\n                    <input type=\"hidden\" name=\"ndl\" value={book.ndl} />\n                    <button>DELETE</button>\n                  </form>\n                </div>\n              </div>\n            </li>\n          )}\n        </ul>\n        <ul>\n          {categories.map((category, index) =>\n            <li class=\"col\">{category.name}（{category.count}）</li>\n          )}\n        </ul>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(<App />, document.getElementById(\"content\"))"],"sourceRoot":""}